<appendix id="javadoc">
  <title>Javadoc</title><para><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm>Java programs have three different types of comments: </para>
<orderedlist inheritnum="ignore" continuation="restarts">
  
  <listitem>
  
  <para><emphasis role="bold">End-of-line comments</emphasis> (<literal moreinfo="none">//</literal>), which generally contain short phrases that explain specific lines of code. </para>
</listitem>
  
  <listitem>
  
  <para><emphasis role="bold">Multi-line comments</emphasis> (with <literal moreinfo="none">/*</literal> at the beginning and <literal moreinfo="none">*/</literal> at the end), which are typically used for copyright statements. </para>
</listitem>
  
  <listitem>
  
  <para><emphasis role="bold">Documentation comments</emphasis> (with <literal moreinfo="none">/**</literal> at the beginning and <literal moreinfo="none">*/</literal> at the end), which describe what each class and method does. </para>
</listitem>
  
</orderedlist>
  
  <para>End-of-line and multi-line comments are written primarily for yourself. They help you remember specific details about your source code. Documentation comments, on the other hand, are written for others. They explain how to use your classes and methods in other programs. </para>

  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm>A nice feature of the Java language is the ability to embed documentation in the source code itself. That way, you can write it as you go, and as things change, it is easier to keep the documentation consistent with the code. </para>

  
  <para>You can extract documentation from your source code, and generate well-formatted HTML pages, using a tool called <emphasis role="bold">Javadoc</emphasis>. This tool is included with the Java compiler, and it is widely used. In fact, the official documentation for the Java library (see <ulink url="https://thinkjava.org/apidoc"/>) is generated by Javadoc. </para>
<sect1 id="a0000014492" remap="section">
  <title>Reading Documentation</title>
    
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>As an example, let’s look at the documentation for <literal moreinfo="none">Scanner</literal>, a class we first used in <xref linkend="scanner"/>. You can find the documentation quickly by doing a web search for “Java Scanner”. <xref linkend="fig.scanner"/> shows a screenshot of the page. </para>

  
  <figure id="fig.scanner" float="False">
    <title>Screenshot of the documentation for <literal moreinfo="none">Scanner</literal>.</title>
     <mediaobject>
  <imageobject remap="includegraphics">
    <imagedata fileref="figs/scanner.png"></imagedata>
  </imageobject>
</mediaobject></figure>

  
  <para>Documentation for other classes uses a similar format. The first line is the package that contains the class, such as <literal moreinfo="none">java.util</literal>. The second line is the name of the class. The “Implemented Interfaces” section lists some of the functionality a <literal moreinfo="none">Scanner</literal> has. </para>

  
  <para>The next section of the documentation is a narrative that explains the purpose of the class and includes examples of how to use it. This text can be difficult to read, because it may use terms you have not yet learned. But the examples are often very useful. A good way to get started with a new class is to paste the examples into a test file and see if you can compile and run them. </para>

  
  <para>One of the examples shows how you can use a <literal moreinfo="none">Scanner</literal> to read input from a <literal moreinfo="none">String</literal> instead of <literal moreinfo="none">System.in</literal>: </para>
<programlisting language="java" format="linespecific">String input = "1 fish 2 fish red fish blue fish";
Scanner s = new Scanner(input);</programlisting><para>After the narrative, code examples, and some other details, you will find the following tables: </para>
<variablelist>
  <varlistentry>
    <term>Constructor summary:</term>
      <listitem>
  
  <para>Ways of creating, or “constructing”, a <literal moreinfo="none">Scanner</literal>. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>Method summary:</term>
      <listitem>
  
  <para>The list of methods that the <literal moreinfo="none">Scanner</literal> class provides. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>Constructor detail:</term>
      <listitem>
  
  <para>More information about how to create a <literal moreinfo="none">Scanner</literal>. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>Method detail:</term>
      <listitem>
  
  <para>More information about each method. </para>
</listitem>
  </varlistentry>
</variablelist>
  
  <para>For example, here is the summary information for <literal moreinfo="none">nextInt</literal>: </para><programlisting format="linespecific">public int nextInt()
Scans the next token of the input as an int.</programlisting><para><indexterm significance="normal">
  <primary></primary>

</indexterm>The first line is the method’s <emphasis role="bold">signature</emphasis>, which specifies the name of the method, its parameters (none), and what type it returns (<literal moreinfo="none">int</literal>). The next line is a short description of what it does. </para>

  
  <para>The “Method detail” explains more: </para><programlisting format="linespecific">public int nextInt()
Scans the next token of the input as an int.

An invocation of this method of the form nextInt() behaves in
exactly the same way as the invocation nextInt(radix), where
radix is the default radix of this scanner.

Returns:
the int scanned from the input

Throws:
InputMismatchException - if the next token does not match
    the Integer regular expression, or is out of range
NoSuchElementException - if input is exhausted
IllegalStateException - if this scanner is closed</programlisting><para>The “Returns” section describes the result when the method succeeds. In contrast, the “Throws” section describes possible errors and exceptions that may occur. Exceptions are said to be “thrown”, like a referee throwing a flag, or like a toddler throwing a fit. </para>

  
  <para>It might take you some time to get comfortable reading documentation and learning which parts to ignore. But it’s worth the effort. Knowing what’s available in the library helps you avoid reinventing the wheel. And a little bit of documentation can save you a lot of debugging. </para>

</sect1><sect1 id="a0000014560" remap="section">
  <title>Writing Documentation</title>
    
  
  <para>As you benefit from reading good documentation, you should “pay it forward” by writing good documentation. </para>

  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm>Javadoc scans your source files looking for documentation comments, also known as “Javadoc comments”. They begin with <literal moreinfo="none">/**</literal> (two stars) and end with <literal moreinfo="none">*/</literal> (one star). Anything in between is considered part of the documentation. </para>

  
  <para>Here’s a class definition with two Javadoc comments, one for the <literal moreinfo="none">Goodbye</literal> class and one for the <literal moreinfo="none">main</literal> method: </para>
<programlisting language="java" format="linespecific">/**
 * Example program that demonstrates print vs println.
 */
public class Goodbye {

    /**
     * Prints a greeting.
     */
    public static void main(String[] args) {
        System.out.print("Goodbye, ");  // note the space
        System.out.println("cruel world");
    }
}</programlisting><para>The class comment explains the purpose of the class. The method comment explains what the method does. </para>

  
  <para>Notice that this example also has an end-of-line comment (<literal moreinfo="none">//</literal>). In general, these comments are short phrases that help explain complex parts of a program. They are intended for other programmers reading and maintaining the source code. </para>

  
  <para>In contrast, Javadoc comments are longer, usually complete sentences. They explain what each method does, but they omit details about how the method works. And they are intended for people who will use the methods without looking at the source code. </para>

  
  <para>Appropriate comments and documentation are essential for making source code readable. And remember that the person most likely to read your code in the future, and appreciate good documentation, is you. </para>

</sect1><sect1 id="a0000014584" remap="section">
  <title>Javadoc Tags</title>
    
  
  <para>It’s generally a good idea to document each class and method, so that other programmers can understand what they do without having to read the code. </para>

  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm>To organize the documentation into sections, Javadoc supports optional <emphasis role="bold">tags</emphasis> that begin with the at sign (<literal moreinfo="none">@</literal>). For example, we can use <literal moreinfo="none">@author</literal> and <literal moreinfo="none">@version</literal> to provide information about the class. </para>
<programlisting language="java" format="linespecific">/**
 * Utility class for extracting digits from integers.
 *
 * @author Chris Mayfield
 * @version 1.0
 */
public class DigitUtil {</programlisting><para><indexterm significance="normal">
  <primary></primary>

</indexterm>Documentation comments should begin with a <emphasis role="bold">description</emphasis> of the class or method, followed by the tags. These two sections are separated by a blank line (not counting the <literal moreinfo="none">*</literal>). </para>

  
  <para>For methods, we can use <literal moreinfo="none">@param</literal> and <literal moreinfo="none">@return</literal> to provide information about parameters and return values. </para>
<programlisting language="java" format="linespecific">/**
 * Tests whether x is a single digit integer.
 *
 * @param x the integer to test
 * @return true if x has one digit, false otherwise
 */
public static boolean isSingleDigit(int x) {</programlisting><para><indexterm significance="normal">
  <primary></primary>

</indexterm><indexterm significance="normal">
  <primary></primary>

</indexterm><xref linkend="fig.javadoc"/> shows part of the resulting HTML page generated by Javadoc. Notice the relationship between the Javadoc comment (in the source code) and the resulting documentation (in the HTML page). </para>

  
  <figure id="fig.javadoc" float="False">
    <title>HTML documentation for <literal moreinfo="none">isSingleDigit</literal>.</title>
     <mediaobject>
  <imageobject remap="includegraphics">
    <imagedata fileref="figs/javadoc.pdf"></imagedata>
  </imageobject>
</mediaobject></figure>

  
  <para>When writing parameter comments, do not include a hyphen (<literal moreinfo="none">-</literal>) after the <literal moreinfo="none">@param</literal> tag. Otherwise, you will have two hyphens in the resulting HTML documentation. </para>

  
  <para>Notice also that the <literal moreinfo="none">@return</literal> tag should not specify the type of the method. Comments like <literal moreinfo="none">@return boolean</literal> are not useful, because you already know the return type from the method’s signature. </para>

  
  <para>Methods with multiple parameters should have separate <literal moreinfo="none">@param</literal> tags that describe each one. Void methods should have no <literal moreinfo="none">@return</literal> tag, since they do not return a value. Each tag should be on its own line in the source code. </para>

</sect1><sect1 id="a0000014647" remap="section">
  <title>Example Source File</title>
    
  
  <para>Now let’s take a look at a more complete example. The code for this section is in the <literal moreinfo="none">appb</literal> directory of <literal moreinfo="none">ThinkJavaCode2</literal>. See <xref linkend="code"/> for instructions on how to download the repository. </para>

  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>Professional-grade source files often begin with a copyright statement. This text spans multiple lines, but it is not part of the documentation. So we use a multi-line comment (<literal moreinfo="none">/*</literal>) rather than a documentation comment (<literal moreinfo="none">/**</literal>). Our example source file, <literal moreinfo="none">Convert.java</literal>, includes the MIT License (<ulink url="https://opensource.org/licenses/MIT"/>). </para>

  
  <para> <programlisting language="java" format="linespecific">/*
 * Copyright (c) 2019 Allen Downey and Chris Mayfield
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */</programlisting></para>

  
  <para>Import statements generally follow the copyright text. After that, we can define the class itself and begin writing the documentation (<literal moreinfo="none">/**</literal>). </para>
<programlisting language="java" format="linespecific">import java.util.Scanner;

/**
 * Methods for converting to/from the metric system.
 *
 * @author Allen Downey
 * @author Chris Mayfield
 * @version 6.1.5
 */
public class Convert {</programlisting><para>A common mistake that beginners make is to put <literal moreinfo="none">import</literal> statements between the documentation and the <literal moreinfo="none">public class</literal> line. Doing so separates the documentation from the class itself. To avoid this issue, always make the end of the comment (the <literal moreinfo="none">*/</literal>) “touch” the word <literal moreinfo="none">public</literal>. </para>

  
  <para>This class has two constants and three methods. The constants are self-explanatory, so there is no need to write documentation for them. </para>
<programlisting language="java" format="linespecific">public static final double CM_PER_INCH = 2.54;

public static final int IN_PER_FOOT = 12;</programlisting><para>The methods, on the other hand, could use some explanation. Each documentation comment includes a description, followed by a blank line, followed by a <literal moreinfo="none">@param</literal> tag for each parameter, followed by a <literal moreinfo="none">@return</literal> tag. </para>
<programlisting language="java" format="linespecific">/**
 * Converts a measurement in centimeters to inches.
 *
 * @param cm length in centimeters
 * @return length in inches
 */
public static double toImperial(double cm) {
    return cm / CM_PER_INCH;
}

/**
 * Converts a length in feet and inches to centimeters.
 *
 * @param feet how many feet
 * @param inches how many inches
 * @return length in centimeters
 */
public static double toMetric(int feet, int inches) {
    int total = feet * IN_PER_FOOT + inches;
    return total * CM_PER_INCH;
}</programlisting><para>The <literal moreinfo="none">main</literal> method has a similar documentation comment, except there is no <literal moreinfo="none">@return</literal> tag since the method is <literal moreinfo="none">void</literal>. </para>
<programlisting language="java" format="linespecific">/**
 * Tests the conversion methods.
 *
 * @param args command-line arguments
 */
public static void main(String[] args) {
    double cm, result;
    int feet, inches;
    Scanner in = new Scanner(System.in);

    // test the Imperial conversion
    System.out.print("Exactly how many cm? ");
    cm = in.nextDouble();
    result = toImperial(cm);
    System.out.printf("That's %.2f inches\n", result);
    System.out.println();

    // test the Metric conversion
    System.out.print("Now how many feet? ");
    feet = in.nextInt();
    System.out.print("And how many inches? ");
    inches = in.nextInt();
    result = toMetric(feet, inches);
    System.out.printf("That's %.2f cm\n", result);
}</programlisting><para>Here are two ways you can run the Javadoc tool on this example program: </para>
<orderedlist inheritnum="ignore" continuation="restarts">
  
  <listitem>4</listitem>
  
  <listitem> </listitem>
  
  <listitem>
  
  <para>From the command line, go to the location for <literal moreinfo="none">Convert.java</literal>. The <literal moreinfo="none">-d</literal> option of <literal moreinfo="none">javadoc</literal> indicates where to generate the HTML files. </para><programlisting format="linespecific">javadoc -d doc Convert.java</programlisting><para>From DrJava, click the Javadoc button on the toolbar. The IDE will then prompt you for a location to generate the HTML files. </para>
</listitem>
  
</orderedlist>
  
  <para>For more examples of what you can do with Javadoc comments, see the source code of any Java library class (e.g., <literal moreinfo="none">Scanner.java</literal>). <xref linkend="src.zip"/> explains how to find the source files for the Java library on your computer. </para>

</sect1><sect1 id="a0000014727" remap="section">
  <title>Vocabulary</title>
    <variablelist>
  <varlistentry>
    <term>documentation:</term>
      <listitem>
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>Comments that describe the technical operation of a class or method. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>Javadoc:</term>
      <listitem>
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>A tool that reads Java source code and generates documentation in HTML format. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>signature:</term>
      <listitem>
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>The first line of a method that defines its name, return type, and parameters. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>tag:</term>
      <listitem>
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>A label that begins with an at sign (<literal moreinfo="none">@</literal>) and is used by Javadoc to organize documentation into sections. </para>
</listitem>
  </varlistentry><varlistentry>
    <term>description:</term>
      <listitem>
  
  <para><indexterm significance="normal">
  <primary></primary>

</indexterm>The first line of a documentation comment that explains what the class/method does. </para>
</listitem>
  </varlistentry>
</variablelist>
</sect1>
</appendix>
